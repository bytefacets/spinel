# NATS Example

This directory demonstrates communicating changes from Spinel transforms into and out of NATS KeyValue buckets.
There is also an example of consuming from a non-spinel KeyValue bucket and marshalling into a Spinel table.

## Architecture
This example simulates 4 servers
1. Order Server:
   - simulates a feed of orders (instrument, price, quantity)
   - orders are pushed into a NATS KeyValue Bucket for orders using NatsKvSink which encodes the schema in keys in the bucket to accommodate schema evolution
2. Market Data Server (2): 
   - simulates market data updates for instruments
   - one server is from exchange "XNAS", one server is from exchange "XNYS"
   - market data updates from both servers are pushed into a NATS KeyValue bucket for market data using a custom bucket encoding
3. View Server:
   - Reads from both orders and market data KeyValue buckets and joins on InstrumentId  
   - Opens a gRPC server to serve several views of the combined data
      1. orders
      2. market data
      3. join orders with OpenNotional calculated field
      4. aggregation of count and OpenNotional by instrument 

![NATS Example Diagram](https://bytefacets.github.io/site/assets/images/nats-example-diagram.png)

Start a NATS server with JetStream enabled.

`/usr/local/opt/nats-server/bin/nats-server -c ./nats.conf`

Where nats.conf is:

```text
# NATS server configuration with JetStream enabled

# Server identity (helpful if you run multiple servers)
server_name: my-nats

# Where the server listens for client connections
port: 4222

# Monitoring endpoint (HTTP)
http: 8222

# Enable JetStream
jetstream {
    # Directory for JetStream data (streams, consumers, KV buckets, etc.)
    store_dir: ~/dev/nats/store
    
    # Limits (tweak to fit your environment)
    max_mem_store: 1Gb
    max_file_store: 10Gb
}
```

Then run the NatsSinkExample.

Example Console Output:
- left screen: ` ./tools console --endpoint 0.0.0.0:25001 --output order-view`
- right screen: ` ./tools console --endpoint 0.0.0.0:25001 --output by-instrument`

![NATS Console Output](https://bytefacets.github.io/site/assets/images/nats-console-example.gif)

Example Log Output:
```text
[main] INFO order-feed    -- e0          SCH Order: 4 fields [3,OrderId,Int][0,Price,Double][1,Qty,Int][2,InstrumentId,Int]
[main] INFO com.bytefacets.spinel.nats.kv.BucketUtil -- Create Bucket orders-4 result: KeyValueStatus{"entryCount":0,"byteCount":0,"config":{"name":"orders-4","maxBucketSize":-1,"ttl":"PT0S","storageType":"file","replicas":1,"isCompressed":false,"maxHistoryPerKey":1,"maxValueSize":-1,"sources":[],"metaData":{"_nats.ver":"2.11.8","_nats.level":"1","_nats.req.level":"0"}}}
[main] INFO com.bytefacets.spinel.nats.kv.DistributedCounter -- Initialized orders-4/__schema_id to 0 at 1
[main] INFO com.bytefacets.spinel.nats.kv.DistributedCounter -- Initialized orders-4/__schema_id to 0 at 1
[main] INFO com.bytefacets.spinel.nats.kv.SchemaRegistry -- Registered Schema 1 at key: __s.1
[order-server-thread] INFO order-feed    -- e1          ADD r0     : [OrderId=1][Price=5.20][Qty=200][InstrumentId=2]
[order-server-thread] INFO order-feed    -- e1          ADD r1     : [OrderId=2][Price=10.40][Qty=300][InstrumentId=3]
[order-server-thread] INFO order-feed    -- e1          ADD r2     : [OrderId=3][Price=15.60][Qty=400][InstrumentId=4]
[order-server-thread] INFO order-feed    -- e1          ADD r3     : [OrderId=4][Price=20.80][Qty=500][InstrumentId=5]
[order-server-thread] INFO order-feed    -- e1          ADD r4     : [OrderId=5][Price=26.00][Qty=600][InstrumentId=6]
[order-server-thread] INFO order-feed    -- e1          ADD r5     : [OrderId=6][Price=31.20][Qty=700][InstrumentId=7]
[order-server-thread] INFO order-feed    -- e1          ADD r6     : [OrderId=7][Price=36.40][Qty=800][InstrumentId=8]
[order-server-thread] INFO order-feed    -- e1          ADD r7     : [OrderId=8][Price=41.60][Qty=900][InstrumentId=9]
[order-server-thread] INFO order-feed    -- e1          ADD r8     : [OrderId=9][Price=46.80][Qty=1000][InstrumentId=10]
[order-server-thread] INFO order-feed    -- e1          ADD r9     : [OrderId=10][Price=52.00][Qty=1100][InstrumentId=1]
[main] INFO com.bytefacets.spinel.nats.kv.BucketUtil -- Create Bucket md-4 result: KeyValueStatus{"entryCount":0,"byteCount":0,"config":{"name":"md-4","maxBucketSize":-1,"ttl":"PT0S","storageType":"file","replicas":1,"isCompressed":false,"maxHistoryPerKey":1,"maxValueSize":-1,"sources":[],"metaData":{"_nats.ver":"2.11.8","_nats.level":"1","_nats.req.level":"0"}}}
[order-server-thread] INFO order-feed    -- e2          ADD r10    : [OrderId=11][Price=57.20][Qty=1200][InstrumentId=2]
[order-server-thread] INFO order-feed    -- e2          ADD r11    : [OrderId=12][Price=62.40][Qty=1300][InstrumentId=3]
[order-server-thread] INFO order-feed    -- e2          ADD r12    : [OrderId=13][Price=67.60][Qty=1400][InstrumentId=4]
[order-server-thread] INFO order-feed    -- e2          ADD r13    : [OrderId=14][Price=72.80][Qty=1500][InstrumentId=5]
[order-server-thread] INFO order-feed    -- e2          ADD r14    : [OrderId=15][Price=78.00][Qty=1600][InstrumentId=6]
[order-server-thread] INFO order-feed    -- e2          ADD r15    : [OrderId=16][Price=83.20][Qty=1700][InstrumentId=7]
[order-server-thread] INFO order-feed    -- e2          ADD r16    : [OrderId=17][Price=88.40][Qty=1800][InstrumentId=8]
[order-server-thread] INFO order-feed    -- e2          ADD r17    : [OrderId=18][Price=93.60][Qty=1900][InstrumentId=9]
[order-server-thread] INFO order-feed    -- e2          ADD r18    : [OrderId=19][Price=98.80][Qty=2000][InstrumentId=10]
[order-server-thread] INFO order-feed    -- e2          ADD r19    : [OrderId=20][Price=104.00][Qty=2100][InstrumentId=1]
[main] INFO md-feed-xnys  -- e0          SCH MarketData: 2 fields [1,InstrumentId,Int][0,Price,Double]
[md-xnys-data-thread] INFO md-feed-xnys  -- e1          ADD r0     : [InstrumentId=0][Price=5.1637]
[md-xnys-data-thread] INFO md-feed-xnys  -- e1          ADD r1     : [InstrumentId=1][Price=10.4415]
[main] INFO com.bytefacets.spinel.nats.kv.BucketUtil -- Create Bucket md-4 result: KeyValueStatus{"entryCount":0,"byteCount":0,"config":{"name":"md-4","maxBucketSize":-1,"ttl":"PT0S","storageType":"file","replicas":1,"isCompressed":false,"maxHistoryPerKey":1,"maxValueSize":-1,"sources":[],"metaData":{"_nats.ver":"2.11.8","_nats.level":"1","_nats.req.level":"0"}}}
[main] INFO md-feed-xnas  -- e0          SCH MarketData: 2 fields [1,InstrumentId,Int][0,Price,Double]
[md-xnys-data-thread] INFO md-feed-xnys  -- e2          CHG r0     : [InstrumentId=0][Price=5.1637]
[md-xnys-data-thread] INFO md-feed-xnys  -- e2          CHG r0     : [InstrumentId=0][Price=5.1637]
[md-xnys-data-thread] INFO md-feed-xnys  -- e2          CHG r0     : [InstrumentId=0][Price=5.1637]
[md-xnas-data-thread] INFO md-feed-xnas  -- e1          ADD r0     : [InstrumentId=0][Price=5.2007]
[md-xnas-data-thread] INFO md-feed-xnas  -- e1          ADD r1     : [InstrumentId=1][Price=10.3467]
[md-xnas-data-thread] INFO md-feed-xnas  -- e2          CHG r0     : [InstrumentId=0][Price=5.2007]
[md-xnas-data-thread] INFO md-feed-xnas  -- e2          CHG r0     : [InstrumentId=0][Price=5.2007]
[md-xnas-data-thread] INFO md-feed-xnas  -- e2          CHG r0     : [InstrumentId=0][Price=5.2007]
[main] INFO com.bytefacets.spinel.nats.kv.BucketUtil -- Create Bucket orders-4 result: KeyValueStatus{"entryCount":22,"byteCount":2120,"config":{"name":"orders-4","maxBucketSize":-1,"ttl":"PT0S","storageType":"file","replicas":1,"isCompressed":false,"maxHistoryPerKey":1,"maxValueSize":-1,"sources":[],"metaData":{"_nats.ver":"2.11.8","_nats.level":"1","_nats.req.level":"0"}}}
[nats:4] INFO com.bytefacets.spinel.nats.kv.DistributedCounter -- Initialized orders-4/__schema_id to 0 at 2
[main] INFO com.bytefacets.spinel.nats.kv.BucketUtil -- Create Bucket md-4 result: KeyValueStatus{"entryCount":4,"byteCount":268,"config":{"name":"md-4","maxBucketSize":-1,"ttl":"PT0S","storageType":"file","replicas":1,"isCompressed":false,"maxHistoryPerKey":1,"maxValueSize":-1,"sources":[],"metaData":{"_nats.ver":"2.11.8","_nats.level":"1","_nats.req.level":"0"}}}
[main] INFO md-client     -- e0          SCH NatsKvAdapter-00000000: 3 fields [1,InstrumentId,Int][0,Exchange,Int][2,LastPrice,Double]
[main] INFO last-price    -- e0          SCH GroupBy-00000000: 3 fields [0,InstrumentId,Int][1,Exchange,Int][2,LastPrice,Double]
[view-server-thread ] INFO md-client     -- e1          ADD r0     : [InstrumentId=1][Exchange=XNYS][LastPrice=10.4415]
[view-server-thread ] INFO md-client     -- e1          ADD r1     : [InstrumentId=1][Exchange=XNAS][LastPrice=10.3467]
[view-server-thread ] INFO md-client     -- e1          ADD r2     : [InstrumentId=0][Exchange=XNYS][LastPrice=5.1637]
[view-server-thread ] INFO md-client     -- e1          ADD r3     : [InstrumentId=0][Exchange=XNAS][LastPrice=5.2007]
[view-server-thread ] INFO last-price    -- e1          ADD r0     : [InstrumentId=1][Exchange=XNYS][LastPrice=10.4415]
[view-server-thread ] INFO last-price    -- e1          ADD r1     : [InstrumentId=0][Exchange=XNYS][LastPrice=5.1637]
[view-server-thread ] INFO com.bytefacets.spinel.nats.kv.SchemaRegistry -- Found schema 1 at __s.1
[view-server-thread ] INFO com.bytefacets.spinel.nats.kv.NatsKvSource -- Caught up
[view-server-thread ] INFO order-view    -- e0          SCH order-view: 6 fields [3,OrderId,Int][2,InstrumentId,Int][0,Price,Double][1,Qty,Int][4,Exchange,Int][5,LastPrice,Double]
[view-server-thread ] INFO by-instrument -- e0          SCH by-instrument: 3 fields [0,InstrumentId,Int][1,Count,Int][2,OpenNotional,Double]
[view-server-thread ] INFO order-view    -- e0          ADD r0     : [OrderId=15][InstrumentId=6][Price=78.00][Qty=1600][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r1     : [OrderId=11][InstrumentId=2][Price=57.20][Qty=1200][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r2     : [OrderId=1][InstrumentId=2][Price=5.20][Qty=200][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r3     : [OrderId=3][InstrumentId=4][Price=15.60][Qty=400][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r4     : [OrderId=5][InstrumentId=6][Price=26.00][Qty=600][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r5     : [OrderId=7][InstrumentId=8][Price=36.40][Qty=800][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r6     : [OrderId=18][InstrumentId=9][Price=93.60][Qty=1900][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r7     : [OrderId=14][InstrumentId=5][Price=72.80][Qty=1500][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r8     : [OrderId=10][InstrumentId=1][Price=52.00][Qty=1100][Exchange=1398361688][LastPrice=10.44]
[view-server-thread ] INFO order-view    -- e0          ADD r9     : [OrderId=20][InstrumentId=1][Price=104.00][Qty=2100][Exchange=1398361688][LastPrice=10.44]
[view-server-thread ] INFO order-view    -- e0          ADD r10    : [OrderId=17][InstrumentId=8][Price=88.40][Qty=1800][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r11    : [OrderId=13][InstrumentId=4][Price=67.60][Qty=1400][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r12    : [OrderId=2][InstrumentId=3][Price=10.40][Qty=300][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r13    : [OrderId=4][InstrumentId=5][Price=20.80][Qty=500][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r14    : [OrderId=9][InstrumentId=10][Price=46.80][Qty=1000][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r15    : [OrderId=6][InstrumentId=7][Price=31.20][Qty=700][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r16    : [OrderId=8][InstrumentId=9][Price=41.60][Qty=900][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r17    : [OrderId=16][InstrumentId=7][Price=83.20][Qty=1700][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r18    : [OrderId=12][InstrumentId=3][Price=62.40][Qty=1300][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO order-view    -- e0          ADD r19    : [OrderId=19][InstrumentId=10][Price=98.80][Qty=2000][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r0     : [InstrumentId=6][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r1     : [InstrumentId=2][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r2     : [InstrumentId=4][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r3     : [InstrumentId=8][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r4     : [InstrumentId=9][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r5     : [InstrumentId=5][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r6     : [InstrumentId=1][Count=2][OpenNotional=33,412.90]
[view-server-thread ] INFO by-instrument -- e0          ADD r7     : [InstrumentId=3][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r8     : [InstrumentId=10][Count=2][OpenNotional=0.00]
[view-server-thread ] INFO by-instrument -- e0          ADD r9     : [InstrumentId=7][Count=2][OpenNotional=0.00]
[order-server-thread] INFO order-feed    -- e3          ADD r20    : [OrderId=21][Price=109.20][Qty=2200][InstrumentId=2]
[order-server-thread] INFO order-feed    -- e3          ADD r21    : [OrderId=22][Price=114.40][Qty=2300][InstrumentId=3]
[order-server-thread] INFO order-feed    -- e3          ADD r22    : [OrderId=23][Price=119.60][Qty=100][InstrumentId=4]
[order-server-thread] INFO order-feed    -- e3          ADD r23    : [OrderId=24][Price=124.80][Qty=200][InstrumentId=5]
[view-server-thread ] INFO order-view    -- e1          ADD r20    : [OrderId=21][InstrumentId=2][Price=109.20][Qty=2200][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e1          CHG r1     : [InstrumentId=2][Count=3]
[view-server-thread ] INFO order-view    -- e2          ADD r21    : [OrderId=22][InstrumentId=3][Price=114.40][Qty=2300][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e2          CHG r7     : [InstrumentId=3][Count=3]
[view-server-thread ] INFO order-view    -- e3          ADD r22    : [OrderId=23][InstrumentId=4][Price=119.60][Qty=100][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e3          CHG r2     : [InstrumentId=4][Count=3]
[order-server-thread] INFO order-feed    -- e4          CHG r0     : [OrderId=1][Qty=100]
[order-server-thread] INFO order-feed    -- e4          CHG r1     : [OrderId=2][Qty=200]
[view-server-thread ] INFO order-view    -- e4          ADD r23    : [OrderId=24][InstrumentId=5][Price=124.80][Qty=200][Exchange=0][LastPrice=0.00]
[order-server-thread] INFO order-feed    -- e4          CHG r2     : [OrderId=3][Qty=300]
[view-server-thread ] INFO by-instrument -- e4          CHG r5     : [InstrumentId=5][Count=3]
[order-server-thread] INFO order-feed    -- e4          CHG r3     : [OrderId=4][Qty=400]
[order-server-thread] INFO order-feed    -- e4          CHG r4     : [OrderId=5][Qty=500]
[order-server-thread] INFO order-feed    -- e4          CHG r5     : [OrderId=6][Qty=600]
[view-server-thread ] INFO order-view    -- e5          CHG r2     : [OrderId=1][InstrumentId=2][Qty=100]
[view-server-thread ] INFO by-instrument -- e5          CHG r1     : [InstrumentId=2]
[view-server-thread ] INFO order-view    -- e6          CHG r3     : [OrderId=3][InstrumentId=4][Qty=300]
[view-server-thread ] INFO order-view    -- e6          CHG r4     : [OrderId=5][InstrumentId=6][Qty=500]
[view-server-thread ] INFO order-view    -- e6          CHG r12    : [OrderId=2][InstrumentId=3][Qty=200]
[view-server-thread ] INFO order-view    -- e6          CHG r13    : [OrderId=4][InstrumentId=5][Qty=400]
[view-server-thread ] INFO order-view    -- e6          CHG r15    : [OrderId=6][InstrumentId=7][Qty=600]
[view-server-thread ] INFO by-instrument -- e6          CHG r0     : [InstrumentId=6]
[view-server-thread ] INFO by-instrument -- e6          CHG r2     : [InstrumentId=4]
[view-server-thread ] INFO by-instrument -- e6          CHG r5     : [InstrumentId=5]
[view-server-thread ] INFO by-instrument -- e6          CHG r7     : [InstrumentId=3]
[view-server-thread ] INFO by-instrument -- e6          CHG r9     : [InstrumentId=7]
[order-server-thread] INFO order-feed    -- e5          ADD r24    : [OrderId=25][Price=130.00][Qty=300][InstrumentId=6]
[order-server-thread] INFO order-feed    -- e5          ADD r25    : [OrderId=26][Price=135.20][Qty=400][InstrumentId=7]
[order-server-thread] INFO order-feed    -- e5          ADD r26    : [OrderId=27][Price=140.40][Qty=500][InstrumentId=8]
[order-server-thread] INFO order-feed    -- e5          ADD r27    : [OrderId=28][Price=145.60][Qty=600][InstrumentId=9]
[view-server-thread ] INFO order-view    -- e7          ADD r24    : [OrderId=25][InstrumentId=6][Price=130.00][Qty=300][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e7          CHG r0     : [InstrumentId=6][Count=3]
[view-server-thread ] INFO order-view    -- e8          ADD r25    : [OrderId=26][InstrumentId=7][Price=135.20][Qty=400][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e8          CHG r9     : [InstrumentId=7][Count=3]
[view-server-thread ] INFO order-view    -- e9          ADD r26    : [OrderId=27][InstrumentId=8][Price=140.40][Qty=500][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e9          CHG r3     : [InstrumentId=8][Count=3]
[order-server-thread] INFO order-feed    -- e6          CHG r6     : [OrderId=7][Qty=700]
[order-server-thread] INFO order-feed    -- e6          CHG r7     : [OrderId=8][Qty=800]
[view-server-thread ] INFO order-view    -- e10         ADD r27    : [OrderId=28][InstrumentId=9][Price=145.60][Qty=600][Exchange=0][LastPrice=0.00]
[order-server-thread] INFO order-feed    -- e6          CHG r8     : [OrderId=9][Qty=900]
[order-server-thread] INFO order-feed    -- e6          CHG r9     : [OrderId=10][Qty=1000]
[view-server-thread ] INFO by-instrument -- e10         CHG r4     : [InstrumentId=9][Count=3]
[order-server-thread] INFO order-feed    -- e6          CHG r10    : [OrderId=11][Qty=1100]
[order-server-thread] INFO order-feed    -- e6          CHG r11    : [OrderId=12][Qty=1200]
[view-server-thread ] INFO order-view    -- e11         CHG r5     : [OrderId=7][InstrumentId=8][Qty=700]
[view-server-thread ] INFO by-instrument -- e11         CHG r3     : [InstrumentId=8]
[view-server-thread ] INFO order-view    -- e12         CHG r16    : [OrderId=8][InstrumentId=9][Qty=800]
[view-server-thread ] INFO by-instrument -- e12         CHG r4     : [InstrumentId=9]
[view-server-thread ] INFO order-view    -- e13         CHG r14    : [OrderId=9][InstrumentId=10][Qty=900]
[view-server-thread ] INFO by-instrument -- e13         CHG r8     : [InstrumentId=10]
[view-server-thread ] INFO order-view    -- e14         CHG r8     : [OrderId=10][InstrumentId=1][Qty=1000]
[view-server-thread ] INFO by-instrument -- e14         CHG r6     : [InstrumentId=1][OpenNotional=32,368.74]
[view-server-thread ] INFO order-view    -- e15         CHG r1     : [OrderId=11][InstrumentId=2][Qty=1100]
[view-server-thread ] INFO by-instrument -- e15         CHG r1     : [InstrumentId=2]
[view-server-thread ] INFO order-view    -- e16         CHG r18    : [OrderId=12][InstrumentId=3][Qty=1200]
[view-server-thread ] INFO by-instrument -- e16         CHG r7     : [InstrumentId=3]
[md-xnys-data-thread] INFO md-feed-xnys  -- e3          ADD r2     : [InstrumentId=2][Price=15.5510]
[md-xnas-data-thread] INFO md-feed-xnas  -- e3          ADD r2     : [InstrumentId=2][Price=15.4951]
[md-xnys-data-thread] INFO md-feed-xnys  -- e3          ADD r3     : [InstrumentId=3][Price=20.8244]
[md-xnas-data-thread] INFO md-feed-xnas  -- e3          ADD r3     : [InstrumentId=3][Price=20.9446]
[md-xnas-data-thread] INFO md-feed-xnas  -- e3          ADD r4     : [InstrumentId=4][Price=25.8654]
[md-xnys-data-thread] INFO md-feed-xnys  -- e3          ADD r4     : [InstrumentId=4][Price=26.1293]
[md-xnys-data-thread] INFO md-feed-xnys  -- e3          ADD r5     : [InstrumentId=5][Price=31.4503]
[md-xnas-data-thread] INFO md-feed-xnas  -- e3          ADD r5     : [InstrumentId=5][Price=31.2445]
[view-server-thread ] INFO md-client     -- e2          ADD r4     : [InstrumentId=2][Exchange=XNAS][LastPrice=15.4951]
[view-server-thread ] INFO last-price    -- e2          ADD r2     : [InstrumentId=2][Exchange=XNAS][LastPrice=15.4951]
[view-server-thread ] INFO order-view    -- e17         CHG r20    : [OrderId=21][InstrumentId=2][Exchange=1396788824][LastPrice=15.50]
[view-server-thread ] INFO by-instrument -- e17         CHG r1     : [InstrumentId=2][OpenNotional=34,089.11]
[view-server-thread ] INFO md-client     -- e3          ADD r5     : [InstrumentId=2][Exchange=XNYS][LastPrice=15.5510]
[view-server-thread ] INFO last-price    -- e3          CHG r2     : [InstrumentId=2][Exchange=XNYS][LastPrice=15.5510]
[view-server-thread ] INFO order-view    -- e18         CHG r20    : [OrderId=21][InstrumentId=2][Exchange=1398361688][LastPrice=15.55]
[view-server-thread ] INFO by-instrument -- e18         CHG r1     : [InstrumentId=2][OpenNotional=34,212.31]
[view-server-thread ] INFO md-client     -- e4          ADD r6     : [InstrumentId=3][Exchange=XNYS][LastPrice=20.8244]
[view-server-thread ] INFO last-price    -- e4          ADD r3     : [InstrumentId=3][Exchange=XNYS][LastPrice=20.8244]
[view-server-thread ] INFO order-view    -- e19         CHG r21    : [OrderId=22][InstrumentId=3][Exchange=1398361688][LastPrice=20.82]
[view-server-thread ] INFO by-instrument -- e19         CHG r7     : [InstrumentId=3][OpenNotional=47,896.12]
[view-server-thread ] INFO md-client     -- e5          ADD r7     : [InstrumentId=3][Exchange=XNAS][LastPrice=20.9446]
[md-xnas-data-thread] INFO md-feed-xnas  -- e4          CHG r1     : [InstrumentId=1][Price=10.4846]
[view-server-thread ] INFO last-price    -- e5          CHG r3     : [InstrumentId=3][Exchange=XNAS][LastPrice=20.9446]
[view-server-thread ] INFO order-view    -- e20         CHG r21    : [OrderId=22][InstrumentId=3][Exchange=1396788824][LastPrice=20.94]
[view-server-thread ] INFO by-instrument -- e20         CHG r7     : [InstrumentId=3][OpenNotional=48,172.66]
[view-server-thread ] INFO md-client     -- e6          ADD r8     : [InstrumentId=4][Exchange=XNAS][LastPrice=25.8654]
[view-server-thread ] INFO md-client     -- e6          ADD r9     : [InstrumentId=4][Exchange=XNYS][LastPrice=26.1293]
[md-xnys-data-thread] INFO md-feed-xnys  -- e4          CHG r1     : [InstrumentId=1][Price=10.3284]
[view-server-thread ] INFO md-client     -- e6          ADD r10    : [InstrumentId=5][Exchange=XNAS][LastPrice=31.2445]
[view-server-thread ] INFO last-price    -- e6          ADD r4     : [InstrumentId=4][Exchange=XNAS][LastPrice=25.8654]
[view-server-thread ] INFO last-price    -- e6          ADD r5     : [InstrumentId=5][Exchange=XNAS][LastPrice=31.2445]
[view-server-thread ] INFO order-view    -- e21         CHG r22    : [OrderId=23][InstrumentId=4][Exchange=1396788824][LastPrice=25.87]
[view-server-thread ] INFO order-view    -- e21         CHG r23    : [OrderId=24][InstrumentId=5][Exchange=1396788824][LastPrice=31.24]
[view-server-thread ] INFO by-instrument -- e21         CHG r2     : [InstrumentId=4][OpenNotional=2,586.54]
[view-server-thread ] INFO by-instrument -- e21         CHG r5     : [InstrumentId=5][OpenNotional=6,248.91]
[view-server-thread ] INFO md-client     -- e7          ADD r11    : [InstrumentId=5][Exchange=XNYS][LastPrice=31.4503]
[view-server-thread ] INFO last-price    -- e7          CHG r5     : [InstrumentId=5][Exchange=XNYS][LastPrice=31.4503]
[view-server-thread ] INFO order-view    -- e22         CHG r23    : [OrderId=24][InstrumentId=5][Exchange=1398361688][LastPrice=31.45]
[view-server-thread ] INFO by-instrument -- e22         CHG r5     : [InstrumentId=5][OpenNotional=6,290.05]
[view-server-thread ] INFO md-client     -- e8          CHG r0     : [InstrumentId=1][Exchange=XNYS][LastPrice=10.3284]
[view-server-thread ] INFO md-client     -- e8          CHG r1     : [InstrumentId=1][Exchange=XNAS][LastPrice=10.4846]
[view-server-thread ] INFO last-price    -- e8          CHG r0     : [InstrumentId=1][Exchange=XNYS][LastPrice=10.3284]
[view-server-thread ] INFO order-view    -- e23         CHG r9     : [OrderId=20][InstrumentId=1][Exchange=1398361688][LastPrice=10.33]
[view-server-thread ] INFO by-instrument -- e23         CHG r6     : [InstrumentId=1][OpenNotional=32,131.25]
[order-server-thread] INFO order-feed    -- e7          ADD r28    : [OrderId=29][Price=150.80][Qty=700][InstrumentId=10]
[order-server-thread] INFO order-feed    -- e7          ADD r29    : [OrderId=30][Price=156.00][Qty=800][InstrumentId=1]
[view-server-thread ] INFO order-view    -- e24         ADD r28    : [OrderId=29][InstrumentId=10][Price=150.80][Qty=700][Exchange=0][LastPrice=0.00]
[view-server-thread ] INFO by-instrument -- e24         CHG r8     : [InstrumentId=10][Count=3]
[order-server-thread] INFO order-feed    -- e8          CHG r12    : [OrderId=13][Qty=1300]
[order-server-thread] INFO order-feed    -- e8          CHG r13    : [OrderId=14][Qty=1400]
[order-server-thread] INFO order-feed    -- e8          CHG r14    : [OrderId=15][Qty=1500]
[order-server-thread] INFO order-feed    -- e8          CHG r15    : [OrderId=16][Qty=1600]
[view-server-thread ] INFO order-view    -- e25         ADD r29    : [OrderId=30][InstrumentId=1][Price=156.00][Qty=800][Exchange=1398361688][LastPrice=10.33]
[order-server-thread] INFO order-feed    -- e8          CHG r16    : [OrderId=17][Qty=1700]
[order-server-thread] INFO order-feed    -- e8          CHG r17    : [OrderId=18][Qty=1800]
[order-server-thread] INFO order-feed    -- e8          CHG r18    : [OrderId=19][Qty=1900]
[view-server-thread ] INFO by-instrument -- e25         CHG r6     : [InstrumentId=1][Count=3][OpenNotional=40,394.00]
[order-server-thread] INFO order-feed    -- e8          CHG r19    : [OrderId=20][Qty=2000]
[view-server-thread ] INFO order-view    -- e26         CHG r11    : [OrderId=13][InstrumentId=4][Qty=1300]
[view-server-thread ] INFO by-instrument -- e26         CHG r2     : [InstrumentId=4][OpenNotional=36,211.59]
[view-server-thread ] INFO order-view    -- e27         CHG r7     : [OrderId=14][InstrumentId=5][Qty=1400]
[view-server-thread ] INFO by-instrument -- e27         CHG r5     : [InstrumentId=5][OpenNotional=50,320.42]
[view-server-thread ] INFO order-view    -- e28         CHG r0     : [OrderId=15][InstrumentId=6][Qty=1500]
[view-server-thread ] INFO by-instrument -- e28         CHG r0     : [InstrumentId=6]
[view-server-thread ] INFO order-view    -- e29         CHG r17    : [OrderId=16][InstrumentId=7][Qty=1600]
[view-server-thread ] INFO by-instrument -- e29         CHG r9     : [InstrumentId=7]
[view-server-thread ] INFO order-view    -- e30         CHG r10    : [OrderId=17][InstrumentId=8][Qty=1700]
[view-server-thread ] INFO by-instrument -- e30         CHG r3     : [InstrumentId=8]
[view-server-thread ] INFO order-view    -- e31         CHG r6     : [OrderId=18][InstrumentId=9][Qty=1800]
[view-server-thread ] INFO by-instrument -- e31         CHG r4     : [InstrumentId=9]
[view-server-thread ] INFO order-view    -- e32         CHG r19    : [OrderId=19][InstrumentId=10][Qty=1900]
[view-server-thread ] INFO by-instrument -- e32         CHG r8     : [InstrumentId=10]
[view-server-thread ] INFO order-view    -- e33         CHG r9     : [OrderId=20][InstrumentId=1][Qty=2000]
[view-server-thread ] INFO by-instrument -- e33         CHG r6     : [InstrumentId=1][OpenNotional=39,361.15]
[order-server-thread] INFO order-feed    -- e9          CHG r0     : [OrderId=1][Qty=0]
[order-server-thread] INFO order-feed    -- e9          CHG r20    : [OrderId=21][Qty=2100]
[order-server-thread] INFO order-feed    -- e9          CHG r1     : [OrderId=2][Qty=100]
[order-server-thread] INFO order-feed    -- e9          CHG r2     : [OrderId=3][Qty=200]
[order-server-thread] INFO order-feed    -- e9          CHG r21    : [OrderId=22][Qty=2200]
[order-server-thread] INFO order-feed    -- e9          CHG r3     : [OrderId=4][Qty=300]
[order-server-thread] INFO order-feed    -- e9          CHG r22    : [OrderId=23][Qty=0]
[order-server-thread] INFO order-feed    -- e9          CHG r4     : [OrderId=5][Qty=400]
[order-server-thread] INFO order-feed    -- e9          CHG r5     : [OrderId=6][Qty=500]
[order-server-thread] INFO order-feed    -- e9          CHG r23    : [OrderId=24][Qty=100]
[view-server-thread ] INFO order-view    -- e34         CHG r2     : [OrderId=1][InstrumentId=2][Qty=0]
[view-server-thread ] INFO by-instrument -- e34         CHG r1     : [InstrumentId=2]
[view-server-thread ] INFO order-view    -- e35         CHG r20    : [OrderId=21][InstrumentId=2][Qty=2100]
[view-server-thread ] INFO by-instrument -- e35         CHG r1     : [InstrumentId=2][OpenNotional=32,657.20]
[view-server-thread ] INFO order-view    -- e36         CHG r12    : [OrderId=2][InstrumentId=3][Qty=100]
[view-server-thread ] INFO by-instrument -- e36         CHG r7     : [InstrumentId=3][OpenNotional=50,267.12]
[view-server-thread ] INFO order-view    -- e37         CHG r3     : [OrderId=3][InstrumentId=4][Qty=200]
[view-server-thread ] INFO by-instrument -- e37         CHG r2     : [InstrumentId=4][OpenNotional=41,384.67]
[view-server-thread ] INFO order-view    -- e38         CHG r21    : [OrderId=22][InstrumentId=3][Qty=2200]
[view-server-thread ] INFO by-instrument -- e38         CHG r7     : [InstrumentId=3][OpenNotional=48,172.66]
[view-server-thread ] INFO order-view    -- e39         CHG r13    : [OrderId=4][InstrumentId=5][Qty=300]
[view-server-thread ] INFO by-instrument -- e39         CHG r5     : [InstrumentId=5][OpenNotional=59,755.50]
[view-server-thread ] INFO order-view    -- e40         CHG r22    : [OrderId=23][InstrumentId=4][Qty=0]
[view-server-thread ] INFO by-instrument -- e40         CHG r2     : [InstrumentId=4][OpenNotional=38,798.13]
[view-server-thread ] INFO order-view    -- e41         CHG r4     : [OrderId=5][InstrumentId=6][Qty=400]
[view-server-thread ] INFO by-instrument -- e41         CHG r0     : [InstrumentId=6]
[view-server-thread ] INFO order-view    -- e42         CHG r15    : [OrderId=6][InstrumentId=7][Qty=500]
[view-server-thread ] INFO by-instrument -- e42         CHG r9     : [InstrumentId=7]
[view-server-thread ] INFO order-view    -- e43         CHG r23    : [OrderId=24][InstrumentId=5][Qty=100]
[view-server-thread ] INFO by-instrument -- e43         CHG r5     : [InstrumentId=5][OpenNotional=56,610.48]
[md-xnas-data-thread] INFO md-feed-xnas  -- e5          ADD r6     : [InstrumentId=6][Price=36.6993]
[md-xnas-data-thread] INFO md-feed-xnas  -- e5          ADD r7     : [InstrumentId=7][Price=41.4400]
[md-xnas-data-thread] INFO md-feed-xnas  -- e5          ADD r8     : [InstrumentId=8][Price=46.8647]
[md-xnys-data-thread] INFO md-feed-xnys  -- e5          ADD r6     : [InstrumentId=6][Price=36.7518]
[md-xnys-data-thread] INFO md-feed-xnys  -- e5          ADD r7     : [InstrumentId=7][Price=41.6161]
[md-xnys-data-thread] INFO md-feed-xnys  -- e5          ADD r8     : [InstrumentId=8][Price=47.0660]
[view-server-thread ] INFO md-client     -- e9          ADD r12    : [InstrumentId=6][Exchange=XNAS][LastPrice=36.6993]
[view-server-thread ] INFO md-client     -- e9          ADD r13    : [InstrumentId=6][Exchange=XNYS][LastPrice=36.7518]
[view-server-thread ] INFO last-price    -- e9          ADD r6     : [InstrumentId=6][Exchange=XNAS][LastPrice=36.6993]
[view-server-thread ] INFO order-view    -- e44         CHG r24    : [OrderId=25][InstrumentId=6][Exchange=1396788824][LastPrice=36.70]
[view-server-thread ] INFO by-instrument -- e44         CHG r0     : [InstrumentId=6][OpenNotional=11,009.80]
[view-server-thread ] INFO md-client     -- e10         ADD r14    : [InstrumentId=7][Exchange=XNYS][LastPrice=41.6161]
[view-server-thread ] INFO md-client     -- e10         ADD r15    : [InstrumentId=7][Exchange=XNAS][LastPrice=41.4400]
[md-xnas-data-thread] INFO md-feed-xnas  -- e6          CHG r0     : [InstrumentId=0][Price=5.1839]
[view-server-thread ] INFO last-price    -- e10         ADD r7     : [InstrumentId=7][Exchange=XNYS][LastPrice=41.6161]
[md-xnys-data-thread] INFO md-feed-xnys  -- e6          CHG r0     : [InstrumentId=0][Price=5.1644]
[md-xnas-data-thread] INFO md-feed-xnas  -- e6          CHG r2     : [InstrumentId=2][Price=15.6459]
[md-xnys-data-thread] INFO md-feed-xnys  -- e6          CHG r2     : [InstrumentId=2][Price=15.6781]
[view-server-thread ] INFO order-view    -- e45         CHG r25    : [OrderId=26][InstrumentId=7][Exchange=1398361688][LastPrice=41.62]
[view-server-thread ] INFO by-instrument -- e45         CHG r9     : [InstrumentId=7][OpenNotional=16,646.45]
[view-server-thread ] INFO md-client     -- e11         ADD r16    : [InstrumentId=8][Exchange=XNYS][LastPrice=47.0660]
[view-server-thread ] INFO md-client     -- e11         ADD r17    : [InstrumentId=8][Exchange=XNAS][LastPrice=46.8647]
[view-server-thread ] INFO last-price    -- e11         ADD r8     : [InstrumentId=8][Exchange=XNYS][LastPrice=47.0660]
[view-server-thread ] INFO order-view    -- e46         CHG r26    : [OrderId=27][InstrumentId=8][Exchange=1398361688][LastPrice=47.07]
[view-server-thread ] INFO by-instrument -- e46         CHG r3     : [InstrumentId=8][OpenNotional=23,533.01]
[view-server-thread ] INFO md-client     -- e12         CHG r2     : [InstrumentId=0][Exchange=XNYS][LastPrice=5.1644]
[view-server-thread ] INFO md-client     -- e12         CHG r3     : [InstrumentId=0][Exchange=XNAS][LastPrice=5.1839]
[view-server-thread ] INFO last-price    -- e12         CHG r1     : [InstrumentId=0][Exchange=XNYS][LastPrice=5.1644]
[view-server-thread ] INFO md-client     -- e13         CHG r5     : [InstrumentId=2][Exchange=XNYS][LastPrice=15.6781]
[view-server-thread ] INFO last-price    -- e13         CHG r2     : [InstrumentId=2][LastPrice=15.6781]
[view-server-thread ] INFO order-view    -- e47         CHG r20    : [OrderId=21][InstrumentId=2][LastPrice=15.68]
[view-server-thread ] INFO by-instrument -- e47         CHG r1     : [InstrumentId=2][OpenNotional=32,923.91]
[view-server-thread ] INFO md-client     -- e14         CHG r4     : [InstrumentId=2][Exchange=XNAS][LastPrice=15.6459]
[view-server-thread ] INFO last-price    -- e14         CHG r2     : [InstrumentId=2][Exchange=XNAS][LastPrice=15.6459]
[view-server-thread ] INFO order-view    -- e48         CHG r20    : [OrderId=21][InstrumentId=2][Exchange=1396788824][LastPrice=15.65]
[view-server-thread ] INFO by-instrument -- e48         CHG r1     : [InstrumentId=2][OpenNotional=32,856.37]
[order-server-thread] INFO order-feed    -- e10         CHG r6     : [OrderId=7][Qty=600]
[order-server-thread] INFO order-feed    -- e10         CHG r7     : [OrderId=8][Qty=700]
[order-server-thread] INFO order-feed    -- e10         CHG r24    : [OrderId=25][Qty=200]
[order-server-thread] INFO order-feed    -- e10         CHG r25    : [OrderId=26][Qty=300]
[order-server-thread] INFO order-feed    -- e10         CHG r8     : [OrderId=9][Qty=800]
[order-server-thread] INFO order-feed    -- e10         CHG r9     : [OrderId=10][Qty=900]
[order-server-thread] INFO order-feed    -- e10         CHG r10    : [OrderId=11][Qty=1000]
[order-server-thread] INFO order-feed    -- e10         CHG r26    : [OrderId=27][Qty=400]
[order-server-thread] INFO order-feed    -- e10         CHG r11    : [OrderId=12][Qty=1100]
[order-server-thread] INFO order-feed    -- e10         CHG r27    : [OrderId=28][Qty=500]
[view-server-thread ] INFO order-view    -- e49         CHG r5     : [OrderId=7][InstrumentId=8][Qty=600]
[view-server-thread ] INFO by-instrument -- e49         CHG r3     : [InstrumentId=8][OpenNotional=51,772.62]
[view-server-thread ] INFO order-view    -- e50         CHG r16    : [OrderId=8][InstrumentId=9][Qty=700]
[view-server-thread ] INFO by-instrument -- e50         CHG r4     : [InstrumentId=9]
[view-server-thread ] INFO order-view    -- e51         CHG r24    : [OrderId=25][InstrumentId=6][Qty=200]
[view-server-thread ] INFO by-instrument -- e51         CHG r0     : [InstrumentId=6][OpenNotional=7,339.87]
[view-server-thread ] INFO order-view    -- e52         CHG r25    : [OrderId=26][InstrumentId=7][Qty=300]
[view-server-thread ] INFO by-instrument -- e52         CHG r9     : [InstrumentId=7][OpenNotional=12,484.84]
[view-server-thread ] INFO order-view    -- e53         CHG r14    : [OrderId=9][InstrumentId=10][Qty=800]
[view-server-thread ] INFO by-instrument -- e53         CHG r8     : [InstrumentId=10]
[view-server-thread ] INFO order-view    -- e54         CHG r8     : [OrderId=10][InstrumentId=1][Qty=900]
[view-server-thread ] INFO by-instrument -- e54         CHG r6     : [InstrumentId=1][OpenNotional=38,215.22]
[view-server-thread ] INFO order-view    -- e55         CHG r1     : [OrderId=11][InstrumentId=2][Qty=1000]
[view-server-thread ] INFO by-instrument -- e55         CHG r1     : [InstrumentId=2][OpenNotional=48,502.25]
[view-server-thread ] INFO order-view    -- e56         CHG r26    : [OrderId=27][InstrumentId=8][Qty=400]
[view-server-thread ] INFO by-instrument -- e56         CHG r3     : [InstrumentId=8][OpenNotional=47,066.02]
[view-server-thread ] INFO order-view    -- e57         CHG r18    : [OrderId=12][InstrumentId=3][Qty=1100]
[view-server-thread ] INFO by-instrument -- e57         CHG r7     : [InstrumentId=3][OpenNotional=71,211.76]
[view-server-thread ] INFO order-view    -- e58         CHG r27    : [OrderId=28][InstrumentId=9][Qty=500]
[view-server-thread ] INFO by-instrument -- e58         CHG r4     : [InstrumentId=9]
[order-server-thread] INFO order-feed    -- e11         CHG r28    : [OrderId=29][Qty=600]
[order-server-thread] INFO order-feed    -- e11         CHG r29    : [OrderId=30][Qty=700]
[order-server-thread] INFO order-feed    -- e11         CHG r12    : [OrderId=13][Qty=1200]
[order-server-thread] INFO order-feed    -- e11         CHG r13    : [OrderId=14][Qty=1300]
[order-server-thread] INFO order-feed    -- e11         CHG r14    : [OrderId=15][Qty=1400]
[order-server-thread] INFO order-feed    -- e11         CHG r15    : [OrderId=16][Qty=1500]
[order-server-thread] INFO order-feed    -- e11         CHG r16    : [OrderId=17][Qty=1600]
[order-server-thread] INFO order-feed    -- e11         CHG r17    : [OrderId=18][Qty=1700]
[order-server-thread] INFO order-feed    -- e11         CHG r18    : [OrderId=19][Qty=1800]
[order-server-thread] INFO order-feed    -- e11         CHG r19    : [OrderId=20][Qty=1900]
[view-server-thread ] INFO order-view    -- e59         CHG r28    : [OrderId=29][InstrumentId=10][Qty=600]
[view-server-thread ] INFO by-instrument -- e59         CHG r8     : [InstrumentId=10]
[view-server-thread ] INFO order-view    -- e60         CHG r29    : [OrderId=30][InstrumentId=1][Qty=700]
[view-server-thread ] INFO by-instrument -- e60         CHG r6     : [InstrumentId=1][OpenNotional=37,182.37]
[view-server-thread ] INFO order-view    -- e61         CHG r11    : [OrderId=13][InstrumentId=4][Qty=1200]
[view-server-thread ] INFO by-instrument -- e61         CHG r2     : [InstrumentId=4][OpenNotional=36,211.59]
[view-server-thread ] INFO order-view    -- e62         CHG r7     : [OrderId=14][InstrumentId=5][Qty=1300]
[view-server-thread ] INFO by-instrument -- e62         CHG r5     : [InstrumentId=5][OpenNotional=53,465.45]
[view-server-thread ] INFO order-view    -- e63         CHG r0     : [OrderId=15][InstrumentId=6][Qty=1400]
[view-server-thread ] INFO by-instrument -- e63         CHG r0     : [InstrumentId=6][OpenNotional=58,718.93]
[view-server-thread ] INFO order-view    -- e64         CHG r17    : [OrderId=16][InstrumentId=7][Qty=1500]
[view-server-thread ] INFO by-instrument -- e64         CHG r9     : [InstrumentId=7][OpenNotional=74,909.02]
[view-server-thread ] INFO order-view    -- e65         CHG r10    : [OrderId=17][InstrumentId=8][Qty=1600]
[view-server-thread ] INFO by-instrument -- e65         CHG r3     : [InstrumentId=8][OpenNotional=122,371.65]
[view-server-thread ] INFO order-view    -- e66         CHG r6     : [OrderId=18][InstrumentId=9][Qty=1700]
[view-server-thread ] INFO by-instrument -- e66         CHG r4     : [InstrumentId=9]
[view-server-thread ] INFO order-view    -- e67         CHG r19    : [OrderId=19][InstrumentId=10][Qty=1800]
[view-server-thread ] INFO by-instrument -- e67         CHG r8     : [InstrumentId=10]
[view-server-thread ] INFO order-view    -- e68         CHG r9     : [OrderId=20][InstrumentId=1][Qty=1900]
[view-server-thread ] INFO by-instrument -- e68         CHG r6     : [InstrumentId=1][OpenNotional=36,149.53]
[md-xnas-data-thread] INFO md-feed-xnas  -- e7          ADD r9     : [InstrumentId=9][Price=52.4416]
[md-xnys-data-thread] INFO md-feed-xnys  -- e7          ADD r9     : [InstrumentId=9][Price=52.2990]
[md-xnas-data-thread] INFO md-feed-xnas  -- e7          ADD r10    : [InstrumentId=10][Price=57.7158]
[md-xnys-data-thread] INFO md-feed-xnys  -- e7          ADD r10    : [InstrumentId=10][Price=56.8034]
[md-xnas-data-thread] INFO md-feed-xnas  -- e7          ADD r11    : [InstrumentId=11][Price=62.4941]
[md-xnys-data-thread] INFO md-feed-xnys  -- e7          ADD r11    : [InstrumentId=11][Price=63.0238]
[view-server-thread ] INFO md-client     -- e15         ADD r18    : [InstrumentId=9][Exchange=XNYS][LastPrice=52.2990]
[view-server-thread ] INFO last-price    -- e15         ADD r9     : [InstrumentId=9][Exchange=XNYS][LastPrice=52.2990]
[view-server-thread ] INFO order-view    -- e69         CHG r27    : [OrderId=28][InstrumentId=9][Exchange=1398361688][LastPrice=52.30]
[view-server-thread ] INFO by-instrument -- e69         CHG r4     : [InstrumentId=9][OpenNotional=26,149.52]
[view-server-thread ] INFO md-client     -- e16         ADD r19    : [InstrumentId=9][Exchange=XNAS][LastPrice=52.4416]
[view-server-thread ] INFO md-client     -- e16         ADD r20    : [InstrumentId=10][Exchange=XNYS][LastPrice=56.8034]
[md-xnas-data-thread] INFO md-feed-xnas  -- e8          CHG r3     : [InstrumentId=3][Price=20.8252]
[md-xnys-data-thread] INFO md-feed-xnys  -- e8          CHG r3     : [InstrumentId=3][Price=20.6125]
[view-server-thread ] INFO md-client     -- e16         ADD r21    : [InstrumentId=10][Exchange=XNAS][LastPrice=57.7158]
[md-xnas-data-thread] INFO md-feed-xnas  -- e8          CHG r4     : [InstrumentId=4][Price=25.9587]
[md-xnys-data-thread] INFO md-feed-xnys  -- e8          CHG r4     : [InstrumentId=4][Price=25.8416]
[view-server-thread ] INFO last-price    -- e16         ADD r10    : [InstrumentId=10][Exchange=XNYS][LastPrice=56.8034]
[view-server-thread ] INFO order-view    -- e70         CHG r28    : [OrderId=29][InstrumentId=10][Exchange=1398361688][LastPrice=56.80]
[view-server-thread ] INFO by-instrument -- e70         CHG r8     : [InstrumentId=10][OpenNotional=34,082.04]
[view-server-thread ] INFO last-price    -- e17         CHG r9     : [InstrumentId=9][Exchange=XNAS][LastPrice=52.4416]
[view-server-thread ] INFO order-view    -- e71         CHG r27    : [OrderId=28][InstrumentId=9][Exchange=1396788824][LastPrice=52.44]
[view-server-thread ] INFO by-instrument -- e71         CHG r4     : [InstrumentId=9][OpenNotional=26,220.81]
[view-server-thread ] INFO md-client     -- e17         ADD r22    : [InstrumentId=11][Exchange=XNAS][LastPrice=62.4941]
[view-server-thread ] INFO md-client     -- e17         ADD r23    : [InstrumentId=11][Exchange=XNYS][LastPrice=63.0238]
[view-server-thread ] INFO last-price    -- e18         ADD r11    : [InstrumentId=11][Exchange=XNAS][LastPrice=62.4941]
[view-server-thread ] INFO md-client     -- e18         CHG r7     : [InstrumentId=3][Exchange=XNAS][LastPrice=20.8252]
[view-server-thread ] INFO last-price    -- e19         CHG r3     : [InstrumentId=3][LastPrice=20.8252]
[view-server-thread ] INFO order-view    -- e72         CHG r21    : [OrderId=22][InstrumentId=3][LastPrice=20.83]
[view-server-thread ] INFO by-instrument -- e72         CHG r7     : [InstrumentId=3][OpenNotional=70,949.10]
[view-server-thread ] INFO md-client     -- e19         CHG r6     : [InstrumentId=3][Exchange=XNYS][LastPrice=20.6125]
[view-server-thread ] INFO md-client     -- e19         CHG r8     : [InstrumentId=4][Exchange=XNAS][LastPrice=25.9587]
[view-server-thread ] INFO md-client     -- e19         CHG r9     : [InstrumentId=4][Exchange=XNYS][LastPrice=25.8416]
[view-server-thread ] INFO last-price    -- e20         CHG r3     : [InstrumentId=3][Exchange=XNYS][LastPrice=20.6125]
[view-server-thread ] INFO last-price    -- e20         CHG r4     : [InstrumentId=4][Exchange=XNAS][LastPrice=25.9587]
[view-server-thread ] INFO order-view    -- e73         CHG r21    : [OrderId=22][InstrumentId=3][Exchange=1398361688][LastPrice=20.61]
[view-server-thread ] INFO order-view    -- e73         CHG r22    : [OrderId=23][InstrumentId=4][Exchange=1396788824][LastPrice=25.96]
[view-server-thread ] INFO by-instrument -- e73         CHG r2     : [InstrumentId=4][OpenNotional=36,211.59]
[view-server-thread ] INFO by-instrument -- e73         CHG r7     : [InstrumentId=3][OpenNotional=70,481.13]
[order-server-thread] INFO order-feed    -- e12         REM r0     :
[order-server-thread] INFO order-feed    -- e12         REM r22    :
[order-server-thread] INFO order-feed    -- e13         ADD r30    : [OrderId=31][Price=161.20][Qty=900][InstrumentId=2]
[view-server-thread ] INFO order-view    -- e74         REM r2     :
[order-server-thread] INFO order-feed    -- e13         ADD r31    : [OrderId=32][Price=166.40][Qty=1000][InstrumentId=3]
[view-server-thread ] INFO by-instrument -- e74         CHG r1     : [InstrumentId=2][Count=2]
[view-server-thread ] INFO order-view    -- e75         REM r22    :
[view-server-thread ] INFO by-instrument -- e75         CHG r2     : [InstrumentId=4][Count=2]
[view-server-thread ] INFO order-view    -- e76         ADD r2     : [OrderId=31][InstrumentId=2][Price=161.20][Qty=900][Exchange=1396788824][LastPrice=15.65]
[view-server-thread ] INFO by-instrument -- e76         CHG r1     : [InstrumentId=2][Count=3][OpenNotional=62,583.55]
```
